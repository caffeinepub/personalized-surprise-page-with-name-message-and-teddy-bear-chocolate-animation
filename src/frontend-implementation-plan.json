{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Make chocolate bar visible in teddy hands during animation",
  "requirements": [
    {
      "id": "REQ-10",
      "summary": "Adjust teddy-chocolate animation layering and positioning so the chocolate bar stays visible in/between the teddy’s hands across early and bite/chew phases without altering other visuals or timing.",
      "acceptanceCriteria": [
        "On the Surprise view, the chocolate bar is visibly rendered in the teddy’s hands during the idle/anticipation portion of the animation (i.e., not off-screen and not occluded behind the teddy).",
        "During the bite/chew phases, the chocolate continues to render and animate without disappearing due to layering (z-index) issues.",
        "No other animation phases, overlays (speed lines/sparkles/crumbs), audio timing, or UI elements are changed beyond what is necessary to make the chocolate visible in the teddy’s hands."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/TeddyChocolateAnimation.tsx",
          "operation": "modify",
          "description": "Update the render structure so the chocolate element is placed in the correct stacking context relative to the teddy (e.g., positioned within the teddy container or otherwise ordered) to prevent it from being hidden/occluded during idle/anticipation and bite/chew phases, while leaving all timing/state changes and overlays untouched."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Adjust only the chocolate-related CSS (positioning and z-index/stacking) and, if needed, fine-tune the chocolate keyframe transforms so the bar starts and remains clearly visible in/between the teddy’s hands in early phases and does not disappear behind the teddy or overlays during bite/chew; preserve all non-chocolate animations, overlay visuals, and audio-related styling unchanged."
        }
      ]
    }
  ]
}