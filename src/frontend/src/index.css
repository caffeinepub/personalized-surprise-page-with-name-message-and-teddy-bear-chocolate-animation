@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --radius: 0.75rem;
        
        /* Romantic warm palette using OKLCH */
        --background: 0.98 0.01 25;
        --foreground: 0.25 0.02 25;
        
        --card: 1 0 0;
        --card-foreground: 0.25 0.02 25;
        
        --popover: 1 0 0;
        --popover-foreground: 0.25 0.02 25;
        
        --primary: 0.55 0.15 15;
        --primary-foreground: 0.98 0.01 25;
        
        --secondary: 0.95 0.02 35;
        --secondary-foreground: 0.35 0.03 15;
        
        --muted: 0.92 0.015 25;
        --muted-foreground: 0.55 0.02 20;
        
        --accent: 0.65 0.18 15;
        --accent-foreground: 1 0 0;
        
        --destructive: 0.55 0.22 25;
        --destructive-foreground: 0.98 0.01 25;
        
        --border: 0.88 0.02 25;
        --input: 0.88 0.02 25;
        --ring: 0.65 0.15 15;
        
        /* Custom romantic colors */
        --romantic-primary: 0.45 0.12 10;
        --romantic-accent: 0.62 0.20 15;
        --romantic-accent-hover: 0.55 0.18 12;
        --romantic-text: 0.35 0.03 15;
        --romantic-muted: 0.60 0.03 20;
        --romantic-border: 0.85 0.03 25;
    }

    .dark {
        --background: 0.20 0.02 15;
        --foreground: 0.95 0.01 25;
        
        --card: 0.25 0.02 15;
        --card-foreground: 0.95 0.01 25;
        
        --popover: 0.25 0.02 15;
        --popover-foreground: 0.95 0.01 25;
        
        --primary: 0.75 0.12 20;
        --primary-foreground: 0.20 0.02 15;
        
        --secondary: 0.30 0.02 15;
        --secondary-foreground: 0.95 0.01 25;
        
        --muted: 0.30 0.02 15;
        --muted-foreground: 0.65 0.02 20;
        
        --accent: 0.70 0.15 15;
        --accent-foreground: 0.98 0.01 25;
        
        --destructive: 0.60 0.20 20;
        --destructive-foreground: 0.95 0.01 25;
        
        --border: 0.35 0.02 15;
        --input: 0.35 0.02 15;
        --ring: 0.70 0.12 20;
        
        --romantic-primary: 0.75 0.12 20;
        --romantic-accent: 0.70 0.18 15;
        --romantic-accent-hover: 0.65 0.16 12;
        --romantic-text: 0.85 0.02 20;
        --romantic-muted: 0.60 0.02 20;
        --romantic-border: 0.40 0.02 15;
    }

    * {
        @apply border-border;
    }
    
    body {
        @apply bg-background text-foreground;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    }
}

@layer utilities {
    .romantic-bg {
        background-image: url('/assets/generated/romantic-bg.dim_1920x1080.png');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        position: relative;
    }
    
    .romantic-bg::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, 
            oklch(0.98 0.02 25 / 0.85) 0%, 
            oklch(0.95 0.03 35 / 0.90) 50%,
            oklch(0.97 0.02 15 / 0.85) 100%
        );
        z-index: 0;
    }
    
    .romantic-bg > * {
        position: relative;
        z-index: 1;
    }
    
    .text-romantic-primary {
        color: oklch(var(--romantic-primary));
    }
    
    .text-romantic-accent {
        color: oklch(var(--romantic-accent));
    }
    
    .text-romantic-text {
        color: oklch(var(--romantic-text));
    }
    
    .text-romantic-muted {
        color: oklch(var(--romantic-muted));
    }
    
    .bg-romantic-accent {
        background-color: oklch(var(--romantic-accent));
    }
    
    .bg-romantic-accent-hover {
        background-color: oklch(var(--romantic-accent-hover));
    }
    
    .bg-romantic-primary\/10 {
        background-color: oklch(var(--romantic-primary) / 0.1);
    }
    
    .border-romantic-border {
        border-color: oklch(var(--romantic-border));
    }
    
    .border-romantic-primary {
        border-color: oklch(var(--romantic-primary));
    }
    
    .shadow-romantic {
        box-shadow: 0 10px 40px -10px oklch(var(--romantic-accent) / 0.3),
                    0 4px 12px -2px oklch(var(--romantic-primary) / 0.2);
    }
}

/* Anime-style animation keyframes */
@keyframes fade-in {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slide-up {
    from {
        opacity: 0;
        transform: translateY(40px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fade-in-delayed {
    0%, 40% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Anime-style teddy eating phases */
@keyframes anime-anticipation {
    0% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
    }
    50% {
        transform: translate(-50%, -52%) scale(0.98, 1.02) rotate(-2deg);
    }
    100% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
    }
}

@keyframes anime-bite {
    0% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
    }
    30% {
        transform: translate(-50%, -48%) scale(1.05, 0.95) rotate(3deg);
    }
    60% {
        transform: translate(-50%, -52%) scale(0.95, 1.08) rotate(-3deg);
    }
    100% {
        transform: translate(-50%, -50%) scale(1.02, 0.98) rotate(0deg);
    }
}

@keyframes anime-chew {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
    }
    25% {
        transform: translate(-50%, -49%) scale(1.02, 0.98) rotate(1deg);
    }
    75% {
        transform: translate(-50%, -51%) scale(0.98, 1.02) rotate(-1deg);
    }
}

@keyframes anime-satisfied {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
    }
    50% {
        transform: translate(-50%, -50%) scale(1.03) rotate(0deg);
    }
}

@keyframes anime-blink {
    0%, 100% {
        transform: scaleY(1);
    }
    50% {
        transform: scaleY(0.1);
    }
}

/* Chocolate movement - anime style with overshoot */
@keyframes anime-chocolate-anticipation {
    0% {
        transform: translate(120px, -80px) scale(1) rotate(0deg);
        opacity: 1;
    }
    50% {
        transform: translate(130px, -90px) scale(1.05) rotate(5deg);
        opacity: 1;
    }
    100% {
        transform: translate(120px, -80px) scale(1) rotate(0deg);
        opacity: 1;
    }
}

@keyframes anime-chocolate-bite {
    0% {
        transform: translate(120px, -80px) scale(1) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translate(20px, -30px) scale(0.75) rotate(-25deg);
        opacity: 1;
    }
}

@keyframes anime-chocolate-chew {
    0% {
        transform: translate(20px, -30px) scale(0.75) rotate(-25deg);
        opacity: 1;
    }
    100% {
        transform: translate(-10px, -10px) scale(0.5) rotate(-40deg);
        opacity: 0.6;
    }
}

@keyframes anime-chocolate-satisfied {
    0% {
        transform: translate(-10px, -10px) scale(0.5) rotate(-40deg);
        opacity: 0.6;
    }
    100% {
        transform: translate(-30px, 0px) scale(0.2) rotate(-50deg);
        opacity: 0;
    }
}

/* Speed lines animation */
@keyframes speed-lines-appear {
    0% {
        opacity: 0;
        transform: scale(0.8);
    }
    50% {
        opacity: 1;
        transform: scale(1.1);
    }
    100% {
        opacity: 0.8;
        transform: scale(1);
    }
}

/* Bite impact animation */
@keyframes bite-impact-pop {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }
    50% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(1.5);
    }
}

/* Chew lines animation */
@keyframes chew-lines-pulse {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8) rotate(-5deg);
    }
    50% {
        opacity: 0.9;
        transform: translate(-50%, -50%) scale(1.1) rotate(5deg);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
    }
}

/* Sparkles animation */
@keyframes sparkle-burst {
    0% {
        opacity: 0;
        transform: scale(0) rotate(0deg);
    }
    50% {
        opacity: 1;
        transform: scale(1.2) rotate(180deg);
    }
    100% {
        opacity: 0;
        transform: scale(0.8) rotate(360deg);
    }
}

/* Crumbs animation with shake */
@keyframes crumbs-fall {
    0% {
        opacity: 0;
        transform: translateY(-20px) scale(0.5) rotate(0deg);
    }
    20% {
        opacity: 1;
        transform: translateY(0) scale(1) rotate(5deg);
    }
    40% {
        transform: translateY(10px) scale(1) rotate(-5deg);
    }
    60% {
        transform: translateY(20px) scale(0.95) rotate(3deg);
    }
    80% {
        transform: translateY(30px) scale(0.9) rotate(-3deg);
    }
    100% {
        opacity: 0.3;
        transform: translateY(40px) scale(0.8) rotate(0deg);
    }
}

@keyframes heart-float {
    0% {
        transform: translateY(0) scale(0);
        opacity: 0;
    }
    20% {
        opacity: 1;
        transform: translateY(-20px) scale(1);
    }
    80% {
        opacity: 1;
    }
    100% {
        transform: translateY(-200px) scale(0.5);
        opacity: 0;
    }
}

.animate-fade-in {
    animation: fade-in 1s ease-out forwards;
}

.animate-slide-up {
    animation: slide-up 1.2s ease-out 0.5s forwards;
    opacity: 0;
}

.animate-fade-in-delayed {
    animation: fade-in-delayed 1.5s ease-out forwards;
    opacity: 0;
}

/* Teddy container with anime phases */
.teddy-container {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 2;
}

.teddy-container.anime-phase-anticipation {
    animation: anime-anticipation 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.teddy-container.anime-phase-bite {
    animation: anime-bite 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.teddy-container.anime-phase-chew {
    animation: anime-chew 0.3s ease-in-out infinite;
}

.teddy-container.anime-phase-satisfied {
    animation: anime-satisfied 1s ease-in-out forwards;
}

.teddy-container.blink .teddy-base {
    animation: anime-blink 0.15s ease-in-out;
}

.teddy-mouth {
    transition: opacity 0.1s ease-in-out;
}

/* Chocolate container with anime phases */
.chocolate-container {
    position: absolute;
    right: 10%;
    top: 20%;
    z-index: 1;
}

.chocolate-container.anime-phase-anticipation {
    animation: anime-chocolate-anticipation 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.chocolate-container.anime-phase-bite {
    animation: anime-chocolate-bite 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.chocolate-container.anime-phase-chew {
    animation: anime-chocolate-chew 1s ease-out forwards;
}

.chocolate-container.anime-phase-satisfied {
    animation: anime-chocolate-satisfied 1s ease-out forwards;
}

/* Overlay effects */
.anime-speed-lines {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 120%;
    height: 120%;
    z-index: 3;
    pointer-events: none;
    animation: speed-lines-appear 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.anime-bite-impact {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    z-index: 5;
    pointer-events: none;
    animation: bite-impact-pop 0.35s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.anime-chew-lines {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    height: 90%;
    z-index: 3;
    pointer-events: none;
    animation: chew-lines-pulse 0.3s ease-out forwards;
}

.anime-sparkles {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 4;
    pointer-events: none;
    animation: sparkle-burst 0.6s ease-out forwards;
}

.anime-crumbs {
    position: absolute;
    left: 50%;
    top: 45%;
    transform: translate(-50%, -50%);
    z-index: 1;
    pointer-events: none;
    animation: crumbs-fall 2s ease-out forwards;
}

/* Floating hearts */
.hearts-decoration {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
}

.heart-float {
    position: absolute;
    font-size: 2rem;
    animation: heart-float 4s ease-in-out infinite;
}

.heart-1 {
    left: 10%;
    bottom: 0;
    animation-delay: 0s;
}

.heart-2 {
    left: 30%;
    bottom: 0;
    animation-delay: 0.8s;
}

.heart-3 {
    left: 50%;
    bottom: 0;
    animation-delay: 1.6s;
}

.heart-4 {
    left: 70%;
    bottom: 0;
    animation-delay: 2.4s;
}

.heart-5 {
    left: 90%;
    bottom: 0;
    animation-delay: 3.2s;
}

/* Reduced motion fallback */
@media (prefers-reduced-motion: reduce) {
    .teddy-container.anime-phase-anticipation,
    .teddy-container.anime-phase-bite,
    .teddy-container.anime-phase-chew,
    .teddy-container.anime-phase-satisfied {
        animation: none;
    }
    
    .chocolate-container.anime-phase-anticipation,
    .chocolate-container.anime-phase-bite,
    .chocolate-container.anime-phase-chew,
    .chocolate-container.anime-phase-satisfied {
        animation: none;
        opacity: 0.5;
    }
    
    .anime-speed-lines,
    .anime-sparkles,
    .anime-bite-impact,
    .anime-chew-lines {
        display: none;
    }
    
    .anime-crumbs {
        animation: none;
        opacity: 0.3;
    }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .chocolate-container {
        right: 5%;
        top: 15%;
    }
    
    .heart-float {
        font-size: 1.5rem;
    }
    
    .anime-speed-lines {
        width: 100%;
        height: 100%;
    }
}

/* Surprise container spacing */
.surprise-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
}

.message-reveal {
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
}
